<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Installation - Read Until Scripts</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Installation";
    var mkdocs_page_input_path = "install.md";
    var mkdocs_page_url = "/install/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Read Until Scripts</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../about/">About Read Until</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Installation</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#warning">WARNING:</a></li>
                
            
                <li class="toctree-l3"><a href="#getting-started">Getting started</a></li>
                
            
                <li class="toctree-l3"><a href="#installing-components-for-read-until-scripts">Installing components for Read Until Scripts</a></li>
                
            
                <li class="toctree-l3"><a href="#obtaining-the-read-until-api">Obtaining the Read Until API</a></li>
                
            
                <li class="toctree-l3"><a href="#installing-the-api">Installing the API</a></li>
                
            
                <li class="toctree-l3"><a href="#api-versions">API versions</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../filesandfolders/">Included Files</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../testing/">Testing the API</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../model/">Extracting a Model</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../offline/">Offline Read Until</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../online/">Online Read Until</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../scripthelp/">Script Help</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Read Until Scripts</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Installation</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="warning"><em>WARNING:</em></h1>
<p>The read until API changes depending on the version of minKNOW in use. The read until API for minKNOW versions 0.48.1.3 - 0.51.1.51 is available on request from Oxford Nanopore.  </p>
<p>Our code is compatible with all versions of the API. However, versions of minKNOW since 0.51.1.51 and up to 4th April 2016 do not function as anticipated. The ws_event_sampler simulations will work, but minKNOW itself does not function correctly with the API. This is actively being resolved by ONT. Thus, testing and simulation is possible with our code and later versions of minKNOW and ws_event_sampler but these scripts WILL NOT ACTIVELY REJECT READS AT THIS TIME with minKNOW versions &gt; 0.51.1.51.</p>
<h1 id="getting-started">Getting started</h1>
<p>We provide two sets of scripts. The first set are "Offline" scripts. They do not require the Read Until API and so can be run on any platform.</p>
<p>The second set (ONLINE scripts) absolutely require the API. For these <em>you must have minKNOW installed on the windows machine you are running this code on. Note you should restart your machine after installing an update to minKNOW or installing minKNOW for the first time.</em></p>
<p>We assume that you are running these scripts on a windows machine with minKNOW installed. ONT install a version of python called Anaconda alongside minKNOW and this python version comes with some of the required packages for our scripts. Our scripts will also run on Linux or OSX but at this time we provide no explicit documentation to support this, however users confident with python and Unix should have no problems.</p>
<p>To use read until at this time you have to use the command line. To access the command line on windows, click on the start menu and type 'cmd' in the search box. You should see a program called 'cmd'.</p>
<p>Once at the command line, navigate to the folder containing this Readme file.</p>
<pre><code> cd \path\to\RUscripts
</code></pre>
<p>All scripts are python 2.7.</p>
<p>We assume that the default version of python in your path is the ONT Anaconda installation. To test this, type</p>
<pre><code> python
</code></pre>
<p>And you should see:</p>
<pre><code>Python 2.7.5 |Anaconda 1.8.0 (64-bit)| (default, Jul  1 2013, 12:37:52) [MSC v.1500 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt;
</code></pre>
<p>Note that this shows Anaconda 1.8.0</p>
<p>To exit this window type</p>
<pre><code>&gt;&gt;&gt; exit()
</code></pre>
<p>Please note these scripts depend upon APIs which are not provided here. The Read Until API is available from Oxford Nanopore on request to MAP participants.</p>
<h1 id="installing-components-for-read-until-scripts">Installing components for Read Until Scripts</h1>
<p>Python modules required for running read until using source code.</p>
<ul>
<li>thrift</li>
<li>ws4py</li>
<li>h5py</li>
<li>configargparse</li>
<li>biopython</li>
<li>watchdog</li>
<li>psutil</li>
<li>mlpy # Must be version 3.5.0 or above - cannot be installed with easy_install/pip on Windows - see below for details</li>
<li>sklearn # Available as default with Anaconda</li>
</ul>
<p>To install these modules on the ONT Anaconda type:</p>
<pre><code> easy_install thrift ws4py h5py configargparse biopython watchdog psutil
</code></pre>
<p>NOTE: You may need to add C:\Anaconda\Scripts to your path to access easy_install and pip.</p>
<p>To install mlpy</p>
<p>Installing mlpy with easy_install results in a version less than that required. To overcome this on windows systems visit <a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#mlpy">http://www.lfd.uci.edu/~gohlke/pythonlibs/#mlpy</a> to obtain an mlpy wheel compiled for the appropriate version of windows and python.</p>
<p>On our system this file is called:</p>
<p>mlpy-3.5.0-cp27-none-win_amd64.whl</p>
<p>To install this you need to first install pip.</p>
<pre><code> easy_install install pip
</code></pre>
<p>Then to install your downloaded wheel:</p>
<pre><code> pip install \path\to\mlpy-3.5.0-cp27-non-win_amd64.whl
</code></pre>
<p>Now you should have all the prerequisites required to run these scripts on windows using the native python.</p>
<h1 id="obtaining-the-read-until-api">Obtaining the Read Until API</h1>
<p>The read until API is available on request from Oxford Nanopore Technologies to individuals who are members of the MAP. Please see the <a href="http://wiki.nanoporetech.com">ONT Store/WIKI</a> or contact your ONT representative for further assistance.</p>
<p>We remind you again:</p>
<p><em>Important Note: Running read until will influence the behaviour of your flow cell and change the output of your sequencing experiment. You are strongly advised to run simulations of read until prior to running on a live flow cell. The code as presented here is a demonstration of read until and one method by which it can be implemented. Users run this code entirely at their own risk.</em></p>
<h1 id="installing-the-api">Installing the API</h1>
<p>Once you have obtained the API, copy the following files and folders (and contents) into the RUscripts\ReadUntil folder:</p>
<pre><code>read_until.py
event_sampler.thrift
event_sampler/* (note - you need to copy the folder and its contents)
example.py
</code></pre>
<h1 id="api-versions">API versions</h1>
<p>The read until API changes depending on the version of minKNOW in use. The read until API for minKNOW versions 0.48.1.3 - 0.51.1.51 is available on request from Oxford Nanopore.  </p>
<p>Our code is compatible with all versions of the API. However, versions of minKNOW since 0.51.1.51 and up to 4th April 2016 do not function as anticipated. The ws_event_sampler simulations will work, but minKNOW itself does not function correctly with the API. This is actively being resolved by ONT. Thus, testing and simulation is possible with our code and later versions of minKNOW and ws_event_sampler but these scripts WILL NOT ACTIVELY REJECT READS AT THIS TIME with minKNOW versions &gt; 0.51.1.51.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../filesandfolders/" class="btn btn-neutral float-right" title="Included Files">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../about/" class="btn btn-neutral" title="About Read Until"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../about/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../filesandfolders/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
